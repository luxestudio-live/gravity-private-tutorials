(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79971,e=>{"use strict";let t=(0,e.i(10965).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],79971)},11741,e=>{"use strict";let t=(0,e.i(10965).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],11741)},35301,e=>{"use strict";let t=(0,e.i(10965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],35301)},91071,e=>{"use strict";let t=(0,e.i(10965).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>t],91071)},83963,e=>{"use strict";var t=e.i(29511),r=e.i(58138),s=e.i(76009),a=e.i(91432);e.i(19678);var d=e.i(46805),c=e.i(11741),l=e.i(15278),o=e.i(79971),n=e.i(35301);let i=(0,e.i(10965).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var m=e.i(91071);function x(){let{user:e}=(0,a.useAuth)(),[x,u]=(0,r.useState)([]),[h,b]=(0,r.useState)(!0),[p,g]=(0,r.useState)("all"),[f,j]=(0,r.useState)(null);(0,r.useEffect)(()=>{y()},[]);let y=async()=>{try{b(!0);let e=(0,d.query)((0,d.collection)(s.db,"contacts"),(0,d.orderBy)("createdAt","desc")),t=(await (0,d.getDocs)(e)).docs.map(e=>{let t=e.data();return{id:e.id,name:t.name||"",email:t.email||"",phone:t.phone||"",message:t.message||"",status:t.status||"unread",contacted:t.contacted||!1,submittedAt:t.submittedAt||"",createdAt:t.createdAt}});console.log("Fetched contacts:",t),u(t)}catch(e){console.error("Error fetching contacts:",e)}finally{b(!1)}},N=async e=>{try{await (0,d.updateDoc)((0,d.doc)(s.db,"contacts",e),{status:"read"}),u(x.map(t=>t.id===e?{...t,status:"read"}:t)),f?.id===e&&j({...f,status:"read"})}catch(e){console.error("Error updating status:",e)}},v=async e=>{try{await (0,d.updateDoc)((0,d.doc)(s.db,"contacts",e),{status:"unread"}),u(x.map(t=>t.id===e?{...t,status:"unread"}:t)),f?.id===e&&j({...f,status:"unread"})}catch(e){console.error("Error updating status:",e)}},w=async e=>{try{await (0,d.updateDoc)((0,d.doc)(s.db,"contacts",e),{contacted:!0}),u(x.map(t=>t.id===e?{...t,contacted:!0}:t)),f?.id===e&&j({...f,contacted:!0})}catch(e){console.error("Error updating contact status:",e)}},k=async e=>{try{await (0,d.updateDoc)((0,d.doc)(s.db,"contacts",e),{contacted:!1}),u(x.map(t=>t.id===e?{...t,contacted:!1}:t)),f?.id===e&&j({...f,contacted:!1})}catch(e){console.error("Error updating contact status:",e)}},C=async e=>{if(confirm("Are you sure you want to delete this contact?"))try{await (0,d.deleteDoc)((0,d.doc)(s.db,"contacts",e)),u(x.filter(t=>t.id!==e)),f?.id===e&&j(null)}catch(e){console.error("Error deleting contact:",e)}},M=(()=>{switch(p){case"unread":return x.filter(e=>"unread"===e.status);case"read":return x.filter(e=>"read"===e.status);case"contacted":return x.filter(e=>e.contacted);case"not-contacted":return x.filter(e=>!e.contacted);default:return x}})(),A={total:x.length,unread:x.filter(e=>"unread"===e.status).length,read:x.filter(e=>"read"===e.status).length,contacted:x.filter(e=>e.contacted).length};return(0,t.jsxs)("div",{className:"py-4 md:py-6",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-4xl font-bold mb-4 md:mb-6",children:"Contact Management"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 md:p-4",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mb-1",children:"Total Contacts"}),(0,t.jsx)("p",{className:"text-2xl md:text-3xl font-bold",children:A.total})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 md:p-4",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mb-1",children:"Unread"}),(0,t.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-yellow-600",children:A.unread})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 md:p-4",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mb-1",children:"Read"}),(0,t.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-green-600",children:A.read})]}),(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-3 md:p-4",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mb-1",children:"Contacted"}),(0,t.jsx)("p",{className:"text-2xl md:text-3xl font-bold text-blue-600",children:A.contacted})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-8",children:[(0,t.jsxs)("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-lg transition-colors ${"all"===p?"bg-primary text-white":"bg-card border border-border hover:bg-muted"}`,children:["All (",A.total,")"]}),(0,t.jsxs)("button",{onClick:()=>g("unread"),className:`px-4 py-2 rounded-lg transition-colors ${"unread"===p?"bg-yellow-600 text-white":"bg-card border border-border hover:bg-muted"}`,children:["Unread (",A.unread,")"]}),(0,t.jsxs)("button",{onClick:()=>g("read"),className:`px-4 py-2 rounded-lg transition-colors ${"read"===p?"bg-green-600 text-white":"bg-card border border-border hover:bg-muted"}`,children:["Read (",A.read,")"]}),(0,t.jsxs)("button",{onClick:()=>g("contacted"),className:`px-4 py-2 rounded-lg transition-colors ${"contacted"===p?"bg-blue-600 text-white":"bg-card border border-border hover:bg-muted"}`,children:["Contacted (",A.contacted,")"]}),(0,t.jsxs)("button",{onClick:()=>g("not-contacted"),className:`px-4 py-2 rounded-lg transition-colors ${"not-contacted"===p?"bg-purple-600 text-white":"bg-card border border-border hover:bg-muted"}`,children:["Not Contacted (",A.total-A.contacted,")"]})]}),h?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):0===M.length?(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)(m.MessageSquare,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No contacts found"})]}):(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 md:gap-6",children:[(0,t.jsx)("div",{className:"md:col-span-2 space-y-3 md:space-y-4",children:M.map(e=>(0,t.jsxs)("div",{onClick:()=>j(e),className:`border rounded-lg p-4 cursor-pointer transition-all ${f?.id===e.id?"border-primary bg-primary/5":"border-border hover:border-primary"}`,children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:e.name}),"unread"===e.status&&(0,t.jsx)(i,{className:"w-3 h-3 fill-yellow-600 text-yellow-600"})]}),(0,t.jsxs)("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(l.Mail,{className:"w-4 h-4"}),e.email]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(o.Phone,{className:"w-4 h-4"}),e.phone]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:e.contacted&&(0,t.jsx)(n.CheckCircle2,{className:"w-5 h-5 text-green-600"})})]}),(0,t.jsx)("p",{className:"text-sm text-foreground/80 line-clamp-2",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:e.submittedAt})]},e.id))}),f&&(0,t.jsxs)("div",{className:"bg-card border border-border rounded-lg p-6 h-fit sticky top-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:f.name}),(0,t.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),(0,t.jsx)("a",{href:`mailto:${f.email}`,className:"text-primary hover:underline",children:f.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Phone"}),(0,t.jsx)("a",{href:`tel:${f.phone}`,className:"text-primary hover:underline",children:f.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Submitted"}),(0,t.jsx)("p",{children:f.submittedAt})]})]}),(0,t.jsxs)("div",{className:"border-t border-border pt-4 mb-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Message"}),(0,t.jsx)("p",{className:"text-foreground whitespace-pre-wrap",children:f.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"flex gap-2",children:"unread"===f.status?(0,t.jsx)("button",{onClick:()=>N(f.id),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:"Mark as Read"}):(0,t.jsx)("button",{onClick:()=>v(f.id),className:"flex-1 px-3 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors text-sm",children:"Mark as Unread"})}),(0,t.jsx)("div",{className:"flex gap-2",children:f.contacted?(0,t.jsx)("button",{onClick:()=>k(f.id),className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors text-sm",children:"Mark as Not Contacted"}):(0,t.jsx)("button",{onClick:()=>w(f.id),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Mark as Contacted"})}),(0,t.jsxs)("button",{onClick:()=>{C(f.id)},className:"w-full px-3 py-2 bg-destructive text-white rounded hover:bg-destructive/90 transition-colors text-sm flex items-center justify-center gap-2",children:[(0,t.jsx)(c.Trash2,{className:"w-4 h-4"}),"Delete"]})]})]})]})]})}e.s(["default",()=>x],83963)}]);