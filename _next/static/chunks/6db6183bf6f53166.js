(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11741,e=>{"use strict";let a=(0,e.i(10965).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>a],11741)},54210,29439,e=>{"use strict";var a=e.i(10965);let t=(0,a.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],54210);let i=(0,a.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>i],29439)},93374,e=>{"use strict";var a=e.i(68519),t=e.i(29511),i=e.i(58138),r=e.i(76009),l=e.i(91432);e.i(19678);var s=e.i(46805),d=e.i(11741),o=e.i(54210),c=e.i(29439);let n=a.default.env.NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME;a.default.env.NEXT_PUBLIC_CLOUDINARY_API_KEY;let m=e=>e.map(e=>({...e,image:"/placeholder.svg?height=600&width=600"})),u=[{id:"default_1",name:"Virendra Kumar Badgujar",subject:"",qualification:"",experience:"",specialization:"",image:"/Virendra Kumar Badgujar.jpeg",color:"from-primary to-accent",isDefault:!0},{id:"default_2",name:"Ramkrishna Badgujar",subject:"English",qualification:"MA B.Ed - English",experience:"",specialization:"",image:"/ramkrishna-badgujar.jpeg",color:"from-secondary to-primary",isDefault:!0},{id:"default_3",name:"Sujeet Patil",subject:"Marathi, Hindi",qualification:"MA B.Ed Marathi Hindi",experience:"",specialization:"",image:"/sujeet-patil.png",color:"from-accent to-secondary",isDefault:!0},{id:"default_4",name:"Jayant Pawar",subject:"Counsellor",qualification:"",experience:"",specialization:"",image:"/jayant.jpeg",color:"from-primary to-accent",isDefault:!0},{id:"default_5",name:"Rupesh Santosh Pawar",subject:"Administration Head",qualification:"M.Com (Management)",experience:"12 Years",specialization:"",image:"/rupesh.jpeg",color:"from-secondary to-primary",isDefault:!0},{id:"default_6",name:"Akshay Ramchandra Bhilare",subject:"Administration Head",qualification:"Bachelor in Accounting & Finance",experience:"12 Years",specialization:"",image:"/akshay.jpeg",color:"from-accent to-secondary",isDefault:!0},{id:"default_7",name:"Santosh Gopal Sawant",subject:"",qualification:"",experience:"",specialization:"",image:"/santosh-gopal-sawant.jpeg",color:"from-secondary to-primary",isDefault:!0},{id:"default_8",name:"Pratik Sawant",subject:"English, S.S",qualification:"D.Ed",experience:"",specialization:"",image:"/pratik-sawant.jpeg",color:"from-accent to-secondary",isDefault:!0},{id:"default_9",name:"Pankaj Vasant Rane",subject:"English",qualification:"B.A., B.Ed. (Eng.), TET & CTET qualified",experience:"21 Years",specialization:"",image:"/pankaj.jpeg",color:"from-accent to-secondary",isDefault:!0},{id:"default_10",name:"Pravin Devidas Thorat",subject:"Commerce Teacher",qualification:"M.Com, B.Ed, MBA, LLB",experience:"16 Years",specialization:"O.CM. // S.P",image:"/pravin-devidas-thorat.jpeg",color:"from-primary to-accent",isDefault:!0},{id:"default_11",name:"Arun Saheb Gauda",subject:"Accounts, Financial Studies, Economics",qualification:"B.Com (Account & Finance), M.Com (Accounts & Finance), M.Com (Management)",experience:"11 Years",specialization:"",image:"/arun-saheb-gauda.jpeg",color:"from-primary to-accent",isDefault:!0},{id:"default_12",name:"Ganesh Tulsiram Rathod",subject:"Maths",qualification:"BSc IT, MSc Math, MSc IT - Pursuing",experience:"9 Years",specialization:"",image:"/ganesh.jpeg",color:"from-primary to-accent",isDefault:!0},{id:"default_13",name:"Praveena Gelot",subject:"History",qualification:"D.El.Ed, B.A, B.Ed, M.A",experience:"6 Years",specialization:"",image:"/praveena.jpeg",color:"from-secondary to-primary",isDefault:!0}],p=["from-primary to-accent","from-secondary to-primary","from-accent to-secondary","from-primary to-secondary"];function x(){let{user:e}=(0,l.useAuth)(),[a,x]=(0,i.useState)(m(u)),[f,g]=(0,i.useState)(!0),[b,h]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null),[v,N]=(0,i.useState)(!1),[w,D]=(0,i.useState)({name:"",subject:"",qualification:"",experience:"",specialization:"",image:"",color:"from-primary to-accent"});(0,i.useEffect)(()=>{E()},[]),(0,i.useEffect)(()=>{b&&window.scrollTo({top:0,behavior:"smooth"})},[b]);let E=async()=>{try{g(!0);let e=(await (0,s.getDocs)((0,s.collection)(r.db,"faculty"))).docs.map(e=>({id:e.id,...e.data()}));console.log("Fetched new faculty from Firestore:",e),x(m([...u,...e]))}catch(e){console.error("Error fetching faculty:",e),x(m(u))}finally{g(!1)}},S=async e=>{let a=e.target.files?.[0];if(a)try{N(!0);let e=new FormData;e.append("file",a),e.append("upload_preset","faculty_uploads");let t=await fetch(`https://api.cloudinary.com/v1_1/${n}/image/upload`,{method:"POST",body:e});if(!t.ok){let e=await t.json();throw Error(`Upload failed: ${e.error?.message||"Unknown error"}`)}let i=await t.json();console.log("Cloudinary upload response:",i),console.log("Image URL:",i.secure_url),D({...w,image:i.secure_url}),alert("Image uploaded successfully!\nURL: "+i.secure_url)}catch(e){console.error("Error uploading image:",e),alert("Image upload failed: "+e.message)}finally{N(!1)}},z=async a=>{if(a.preventDefault(),!e)return void alert("You must be logged in");if(!w.name.trim())return void alert("Name is required");try{if(N(!0),console.log("Saving faculty data:",w),y&&!y.startsWith("default_"))await (0,s.updateDoc)((0,s.doc)(r.db,"faculty",y),w),alert("Faculty member updated!"),j(null);else if(y)alert("Cannot edit default faculty data");else{let e=await (0,s.addDoc)((0,s.collection)(r.db,"faculty"),w);console.log("Faculty added with ID:",e.id),alert("Faculty member added!")}D({name:"",subject:"",qualification:"",experience:"",specialization:"",image:"",color:"from-primary to-accent"}),h(!1),await E()}catch(e){console.error("Error saving faculty:",e),alert("Error: "+e.message)}finally{N(!1)}},C=async e=>{if(e.startsWith("default_"))return void alert("Cannot delete default faculty data");if(confirm("Are you sure you want to delete this faculty member?"))try{N(!0),console.log("Deleting faculty with ID:",e),await (0,s.deleteDoc)((0,s.doc)(r.db,"faculty",e)),console.log("Faculty deleted successfully"),alert("Faculty member deleted!"),await E()}catch(e){console.error("Error deleting faculty:",e),alert("Error deleting faculty: "+e.message)}finally{N(!1)}},k=a.filter(e=>e.isDefault).length,_=a.filter(e=>!e.isDefault).length;return(0,t.jsxs)("div",{className:"py-4 md:py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 md:mb-6 flex-wrap gap-4",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-4xl font-bold",children:"Faculty Management"}),(0,t.jsxs)("button",{onClick:()=>{b&&(j(null),D({name:"",subject:"",qualification:"",experience:"",specialization:"",image:"",color:"from-primary to-accent"})),h(!b)},className:"inline-flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium text-sm md:text-base",children:[(0,t.jsx)(c.Plus,{className:"w-4 md:w-5 h-4 md:h-5 flex-shrink-0"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:b?"Cancel":"Add Faculty Member"}),(0,t.jsx)("span",{className:"sm:hidden",children:b?"Cancel":"Add"})]})]}),b&&(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4 md:p-8 mb-6 md:mb-8",children:[(0,t.jsx)("h2",{className:"text-xl md:text-2xl font-bold mb-4 md:mb-6",children:y?"Edit Faculty":"Add New Faculty Member"}),(0,t.jsxs)("form",{onSubmit:z,className:"space-y-4 md:space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs md:text-sm font-medium mb-2",children:"Profile Image"}),(0,t.jsxs)("div",{className:"flex gap-2 md:gap-3 items-end flex-wrap",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:S,disabled:v,className:"flex-1 min-w-0 text-xs md:text-sm"}),w.image&&(0,t.jsx)("img",{src:w.image,alt:"preview",className:"w-16 md:w-20 h-16 md:h-20 rounded object-cover"})]}),w.image&&(0,t.jsxs)("p",{className:"text-xs md:text-sm text-muted-foreground mt-2",children:["Image uploaded: ",w.image.slice(0,50),"..."]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs md:text-sm font-medium mb-2",children:"Name *"}),(0,t.jsx)("input",{type:"text",value:w.name,onChange:e=>D({...w,name:e.target.value}),placeholder:"Faculty name",required:!0,style:{width:"100%",padding:"0.5rem 0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem",boxSizing:"border-box"},className:"md:text-base"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs md:text-sm font-medium mb-2",children:"Subject"}),(0,t.jsx)("input",{type:"text",value:w.subject,onChange:e=>D({...w,subject:e.target.value}),placeholder:"Subject/Department",style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"1rem",boxSizing:"border-box"}})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Qualification"}),(0,t.jsx)("input",{type:"text",value:w.qualification,onChange:e=>D({...w,qualification:e.target.value}),placeholder:"E.g., M.Com, B.Ed",style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"1rem",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Experience"}),(0,t.jsx)("input",{type:"text",value:w.experience,onChange:e=>D({...w,experience:e.target.value}),placeholder:"E.g., 10 Years",style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"1rem",boxSizing:"border-box"}})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Specialization"}),(0,t.jsx)("input",{type:"text",value:w.specialization,onChange:e=>D({...w,specialization:e.target.value}),placeholder:"Optional specialization",style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"1rem",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Color Theme"}),(0,t.jsx)("select",{value:w.color,onChange:e=>D({...w,color:e.target.value}),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"1rem",boxSizing:"border-box"},children:p.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsx)("button",{type:"submit",disabled:v,style:{width:"100%",padding:"0.75rem",background:"#3b82f6",color:"#fff",borderRadius:"0.375rem",fontWeight:"500",border:"none",cursor:v?"not-allowed":"pointer",opacity:v?.7:1},children:v?"Uploading...":y?"Update Faculty":"Add Faculty"})]})]}),(0,t.jsxs)("div",{className:"space-y-6 md:space-y-8",children:[(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4 md:p-8",children:[(0,t.jsxs)("h2",{className:"text-xl md:text-2xl font-bold mb-2 md:mb-4",children:["Default Faculty (",k,")"]}),(0,t.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground mb-4 md:mb-6",children:"Existing faculty members - cannot be edited or deleted"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:a.filter(e=>e.isDefault).map(e=>(0,t.jsxs)("div",{className:"border border-border rounded-lg p-3 md:p-4 bg-muted/30",children:[e.image&&(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-32 md:h-48 object-cover rounded mb-2 md:mb-4"}),(0,t.jsx)("h3",{className:"font-bold text-base md:text-lg mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-xs md:text-sm text-primary font-medium",children:e.subject}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.qualification}),e.experience&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.experience})]},e.id))})]}),_>0&&(0,t.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4 md:p-8",children:[(0,t.jsxs)("h2",{className:"text-xl md:text-2xl font-bold mb-2 md:mb-4",children:["Added Faculty (",_,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:a.filter(e=>!e.isDefault).map(e=>(0,t.jsxs)("div",{className:"border border-border rounded-lg p-4 bg-muted/30 relative",children:[e.image&&(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover rounded mb-4"}),(0,t.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-primary font-medium",children:e.subject}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.qualification}),e.experience&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.experience}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-border",children:[(0,t.jsxs)("button",{onClick:()=>{e.isDefault?alert("Default faculty data cannot be edited. Only new entries can be edited."):(D({name:e.name,subject:e.subject,qualification:e.qualification,experience:e.experience,specialization:e.specialization,image:e.image,color:e.color}),j(e.id),h(!0))},disabled:v,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-primary/10 text-primary hover:bg-primary/20 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(o.Edit2,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsxs)("button",{onClick:()=>e.id&&C(e.id),disabled:v,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-destructive/10 text-destructive hover:bg-destructive/20 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(d.Trash2,{className:"w-4 h-4"}),v?"Deleting...":"Delete"]})]})]},e.id))})]})]})]})}e.s(["default",()=>x])}]);